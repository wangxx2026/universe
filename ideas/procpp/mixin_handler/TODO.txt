1. refactor websocket
2. 12 factor rules
